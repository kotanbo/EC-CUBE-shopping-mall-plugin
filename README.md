# ショッピングモールプラグイン

## 概要
[複数ショップの商品を掲載するプラグイン](https://www.ec-cube.net/products/detail.php?product_id=2030)

## フロント画面
### 商品一覧・詳細ページからショップの外部販売サイトへ誘導できる。
- 商品の外部販売サイトが登録されている場合は、販売サイトへリンクする。
- 価格を非表示にできる。

## 管理画面
### プラグイン設定を登録することができる。
- プラグイン一覧画面のプラグイン設定ボタンからプラグイン設定を登録することができる。
- ショップ用商品の外部販売サイトURLを「必須」または「任意」に設定できる。

### ショップを登録することができる。
- 設定>複数ショップ管理画面で、ショップを登録、削除することができる。

### ショップの商品登録用メンバーを登録することができる。
- 設定>システム設定>メンバー管理画面で、ショップの商品登録用メンバーを登録、削除することができる。

### 商品ごとに、外部販売サイト、価格表示、を設定することができる。
- 商品管理で、外部販売サイト、価格表示、を設定することができる。

## 利用手順の例
### 管理者で管理画面表示
1. プラグイン設定
    - プラグイン一覧>プラグイン設定画面で設定を登録する。

2. ショップ登録
    - 設定>複数ショップ管理画面でショップを登録する。

3. ショップのメンバー登録
    - 設定>システム設定>メンバー管理画面でショップの商品登録用メンバーを登録する。
    - １で設定したショップを選択、権限「ショップ（ショッピングモールプラグイン用）」を選択し登録する。（権限はショップを選択した際に自動で選択される）

### ショップの商品登録用メンバーで管理画面表示
4. 商品登録
    - 外部販売サイトや価格表示等を設定し、商品を登録する。
5. CSVで商品登録したい場合
    - 商品管理>商品CSV登録画面で商品を登録し、商品管理>ショップ用商品CSV登録画面で商品を更新する。

### フロント画面
6. 商品掲載
    - 外部販売サイトが設定されていれば「カートに入れる」が「販売サイトへ」に変わり、価格表示の設定内容によって、価格が表示・非表示にされる。

## アップデート
- 下位バージョンからのアップデートではキャッシュを削除してください。

## 注意
- エラーでログインできない場合は、サーバーの「var/cache/prod/」以下全てを削除すれば解決するかもしれません。
    - 上記でも解消しない場合は http://coelacanth.jp.net/doctrine_failed_opening_required_error/ を参考にすれば解決するかもしれません。
- 複数ショップ管理メニューが表示されない場合は、コンテンツ管理のキャッシュ管理でキャッシュを何回も削除します。

## ライセンス

MIT
